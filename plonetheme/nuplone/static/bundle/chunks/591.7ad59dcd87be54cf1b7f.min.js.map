{"version":3,"file":"chunks/591.7ad59dcd87be54cf1b7f.min.js","mappings":"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","sources":["webpack://nuplone/./node_modules/redactor/src/plugins/fullscreen/fullscreen.js"],"sourcesContent":["(function($R)\n{\n    $R.add('plugin', 'fullscreen', {\n        translations: {\n            en: {\n    \t\t\t\"fullscreen\": \"Fullscreen\"\n    \t\t}\n        },\n        init: function(app)\n        {\n            this.app = app;\n            this.opts = app.opts;\n            this.lang = app.lang;\n            this.$win = app.$win;\n            this.$doc = app.$doc;\n            this.$body = app.$body;\n            this.editor = app.editor;\n            this.toolbar = app.toolbar;\n            this.container = app.container;\n            this.selection = app.selection;\n\n            // local\n            this.isOpen = false;\n            this.docScroll = 0;\n        },\n        // public\n        start: function()\n        {\n            var data = {\n                title: this.lang.get('fullscreen'),\n                api: 'plugin.fullscreen.toggle'\n            };\n\n            var button = this.toolbar.addButton('fullscreen', data);\n            button.setIcon('<i class=\"re-icon-expand\"></i>');\n\n            this.$target = (this.toolbar.isTarget()) ? this.toolbar.getTargetElement() : this.$body;\n\n\t\t\tif (this.opts.fullscreen) this.toggle();\n\n        },\n        toggle: function()\n\t\t{\n\t\t\treturn (this.isOpen) ? this.close() : this.open();\n\t\t},\n\t\topen: function()\n\t\t{\n    \t\tthis.docScroll = this.$doc.scrollTop();\n\n            this._createPlacemarker();\n            this.selection.save();\n\n            var $container = this.container.getElement();\n            var $editor = this.editor.getElement();\n            var $html = (this.toolbar.isTarget()) ? $R.dom('body, html') : this.$target;\n\n            if (this.opts.toolbarExternal) this._buildInternalToolbar();\n\n            this.$target.prepend($container);\n\t\t\tthis.$target.addClass('redactor-body-fullscreen');\n\n            $container.addClass('redactor-box-fullscreen');\n            if (this.isTarget) $container.addClass('redactor-box-fullscreen-target');\n\n            $html.css('overflow', 'hidden');\n\n            if (this.opts.maxHeight) $editor.css('max-height', '');\n            if (this.opts.minHeight) $editor.css('min-height', '');\n\n            this._resize();\n            this.$win.on('resize.redactor-plugin-fullscreen', this._resize.bind(this));\n\t\t\tthis.$doc.scrollTop(0);\n\n            var button = this.toolbar.getButton('fullscreen');\n            button.setIcon('<i class=\"re-icon-retract\"></i>');\n\n            this.selection.restore();\n\t\t\tthis.isOpen = true;\n\t\t\tthis.opts.zindex = 1051;\n\t\t\t// fix bootstrap modal focus\n            if (window.jQuery) window.jQuery(document).off('focusin.modal');\n\t\t},\n\t\tclose: function()\n\t\t{\n    \t\tthis.isOpen = false;\n\t\t\tthis.opts.zindex = false;\n            this.selection.save();\n\n            var $container = this.container.getElement();\n            var $editor = this.editor.getElement();\n            var $html = $R.dom('body, html');\n\n            if (this.opts.toolbarExternal) this._buildExternalToolbar();\n\n            this.$target.removeClass('redactor-body-fullscreen');\n    \t\tthis.$win.off('resize.redactor-plugin-fullscreen');\n            $html.css('overflow', '');\n\n\t\t\t$container.removeClass('redactor-box-fullscreen redactor-box-fullscreen-target');\n\t\t\t$editor.css('height', 'auto');\n\n\t\t\tif (this.opts.minHeight) $editor.css('minHeight', this.opts.minHeight);\n\t\t\tif (this.opts.maxHeight) $editor.css('maxHeight', this.opts.maxHeight);\n\n            var button = this.toolbar.getButton('fullscreen');\n            button.setIcon('<i class=\"re-icon-expand\"></i>');\n\n    \t\tthis._removePlacemarker($container);\n            this.selection.restore();\n            this.$doc.scrollTop(this.docScroll);\n\t\t},\n\n\t\t// private\n\t\t_resize: function()\n\t\t{\n    \t\tvar $toolbar = this.toolbar.getElement();\n            var $editor = this.editor.getElement();\n    \t\tvar height = this.$win.height() - $toolbar.height();\n\n    \t\t$editor.height(height);\n\t\t},\n\t\t_buildInternalToolbar: function()\n\t\t{\n\t\t\tvar $wrapper = this.toolbar.getWrapper();\n\t\t\tvar $toolbar = this.toolbar.getElement();\n\n\t\t\t$wrapper.addClass('redactor-toolbar-wrapper');\n\t\t\t$wrapper.append($toolbar);\n\n\t\t\t$toolbar.removeClass('redactor-toolbar-external');\n\t\t\t$container.prepend($wrapper);\n\t\t},\n\t\t_buildExternalToolbar: function()\n\t\t{\n\t\t\tvar $wrapper = this.toolbar.getWrapper();\n\t\t\tvar $toolbar = this.toolbar.getElement();\n\n            this.$external = $R.dom(this.opts.toolbarExternal);\n\n            $toolbar.addClass('redactor-toolbar-external');\n            this.$external.append($toolbar);\n\n            $wrapper.remove();\n\t\t},\n\t\t_createPlacemarker: function()\n\t\t{\n    \t\tvar $container = this.container.getElement();\n\n    \t\tthis.$placemarker = $R.dom('<span />');\n    \t\t$container.after(this.$placemarker);\n\t\t},\n\t\t_removePlacemarker: function($container)\n\t\t{\n    \t\tthis.$placemarker.before($container);\n            this.$placemarker.remove();\n\t\t}\n    });\n})(Redactor);"],"names":["$R","Redactor","add","translations","en","init","app","this","opts","lang","$win","$doc","$body","editor","toolbar","container","selection","isOpen","docScroll","start","data","title","get","api","addButton","setIcon","$target","isTarget","getTargetElement","fullscreen","toggle","close","open","scrollTop","_createPlacemarker","save","$container","getElement","$editor","$html","dom","toolbarExternal","_buildInternalToolbar","prepend","addClass","css","maxHeight","minHeight","_resize","on","bind","getButton","restore","zindex","window","jQuery","document","off","_buildExternalToolbar","removeClass","_removePlacemarker","$toolbar","height","$wrapper","getWrapper","append","$external","remove","$placemarker","after","before"],"sourceRoot":""}