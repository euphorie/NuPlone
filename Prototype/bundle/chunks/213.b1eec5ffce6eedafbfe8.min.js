(self.webpackChunknuplone=self.webpackChunknuplone||[]).push([[213],{9213:()=>{Redactor.add("plugin","textexpander",{init:function(e){this.app=e,this.opts=e.opts,this.utils=e.utils,this.editor=e.editor,this.marker=e.marker,this.keycodes=e.keycodes,this.selection=e.selection},start:function(){this.opts.textexpander&&this.editor.getElement().on("keyup.redactor-plugin-textexpander",this._expand.bind(this))},stop:function(){this.editor.getElement().off(".redactor-plugin-textexpander")},_expand:function(e){if(e.which===this.keycodes.SPACE)for(var t=this.opts.textexpander.length,i=0;i<t;i++){var n=this.opts.textexpander[i],s=new RegExp(this.utils.escapeRegExp(n[0])+"\\s$"),r=this.selection.getTextBeforeCaret(n[0].length+1).replace(/\s$/,"");if(n[0]===r)return this._replaceSelection(s,n[1])}},_replaceSelection:function(e,t){var i=this.marker.insert("start").previousSibling,n=i.textContent;n=(n=n.replace(/&nbsp;/," ")).replace(e,t),i.textContent=n,this.selection.restoreMarkers()}})}}]);
//# sourceMappingURL=213.b1eec5ffce6eedafbfe8.min.js.map