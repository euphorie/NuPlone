(self.webpackChunknuplone=self.webpackChunknuplone||[]).push([[882],{1882:()=>{var t;(t=Redactor).add("plugin","definedlinks",{init:function(t){this.app=t,this.opts=t.opts,this.component=t.component,this.links=[]},onmodal:{link:{open:function(t,i){this.opts.definedlinks&&(this.$modal=t,this.$form=i,this._load())}}},_load:function(){"object"==typeof this.opts.definedlinks?this._build(this.opts.definedlinks):t.ajax.get({url:this.opts.definedlinks,success:this._build.bind(this)})},_build:function(i){if(0===(s=this.$modal.find("#redactor-defined-links")).length){var n=this.$modal.getBody(),e=t.dom('<div class="form-item" />'),s=t.dom('<select id="redactor-defined-links" />');e.append(s),n.prepend(e)}for(var o in this.links=[],s.html(""),s.off("change"),i)if(i.hasOwnProperty(o)&&"object"==typeof i[o]){this.links[o]=i[o];var l=t.dom("<option>");l.val(o),l.html(i[o].name),s.append(l)}s.on("change",this._select.bind(this))},_select:function(i){var n=this.$form.getData(),e=t.dom(i.target).val(),s={text:"",url:""};"0"!==e&&(s.text=this.links[e].name,s.url=this.links[e].url),""!==n.text&&(s={url:s.url}),this.$form.setData(s)}})}}]);
//# sourceMappingURL=882.1c638eab4d0869ff8a78.min.js.map