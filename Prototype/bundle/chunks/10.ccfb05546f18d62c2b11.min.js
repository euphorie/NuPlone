(self.webpackChunknuplone=self.webpackChunknuplone||[]).push([[10],{10:()=>{var t;(t=Redactor).add("plugin","imagemanager",{translations:{en:{choose:"Choose"}},init:function(t){this.app=t,this.lang=t.lang,this.opts=t.opts},onmodal:{image:{open:function(t,a){this.opts.imageManagerJson&&this._load(t)}}},_load:function(a){var i=a.getBody();this.$box=t.dom("<div>"),this.$box.attr("data-title",this.lang.get("choose")),this.$box.addClass("redactor-modal-tab"),this.$box.hide(),this.$box.css({overflow:"auto",height:"300px","line-height":1}),i.append(this.$box),t.ajax.get({url:this.opts.imageManagerJson,success:this._parse.bind(this)})},_parse:function(a){for(var i in a){var e=a[i];if("object"==typeof e){var s=t.dom("<img>"),o=e.thumb?e.thumb:e.url;s.attr("src",o),s.attr("data-params",encodeURI(JSON.stringify(e))),s.css({width:"96px",height:"72px",margin:"0 4px 2px 0",cursor:"pointer"}),s.on("click",this._insert.bind(this)),this.$box.append(s)}}},_insert:function(a){a.preventDefault();var i=t.dom(a.target),e=JSON.parse(decodeURI(i.attr("data-params")));this.app.api("module.image.insert",{image:e})}})}}]);
//# sourceMappingURL=10.ccfb05546f18d62c2b11.min.js.map